---
import { Author } from "../components/Author";
import { MainHeading } from "../components/MainHeading";
import { PostExcerpt } from "../components/PostExcerpt";
import { sortPosts } from "../utils/sortPosts";
import type { Post } from "../utils/types";
import AsideLayout from "./AsideLayout.astro";

export interface Props {
  posts: Post[];
  title: string;
  description: string;
}

const { posts, title, description } = Astro.props;
sortPosts(posts);
---

<AsideLayout title={title} description={description}>
  <div>
    <slot name="top" />
    <MainHeading className="mb-10 sm:mb-14">
      {title}
    </MainHeading>
    <div class="flex flex-col gap-12 sm:gap-14">
      {
        posts.map(({ frontmatter, url }) => (
          <PostExcerpt url={url} post={frontmatter} />
        ))
      }
    </div>
  </div>
  <Author slot="aside" />
</AsideLayout>
